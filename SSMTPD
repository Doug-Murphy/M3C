-- A Simple Implementation of the Stupid Simple Mail Transfer Protocol (SSMTP) Server Daemon
-- SSMTP is just a length(5) key value pair (table) containing key names in all caps 

-- TO: uname(Case Sensitive)
-- FROM: yourusername (Also Case Sensitive)
-- SUB: subjectgoeshere
-- MSG: (Message/Body/Data etc)
-- TS: (timestamp)
SSMTP = {TO = "", FROM = "", SUB = "", MSG = "", TS = 0}


-- The Stupid Simple Mail Transfer Client/Daemon were developed exclusivly in and for Computercraft 1.7 and as such are designed with the intention of ONLY 1 server instance running and acting as MTA and MDA in order to provide the ability to have any user login and slap a computer down and get to their mail. 
-- This mean that this daemon is where all mail LIVES AND DIES so put it on a computer somewhere SAFE or BACK IT UP.
-- All mail is managed through the /mail folder generated by this script.



-- Networking
rednet.open("top")
-- This intentionally means there should only 
rednet.host("SSMTPD")
-- sanity check for first run
fs.makeDir("/mail", "w")

-- listen and feed mail
echo "Server UP"
while true do 
  id, mail, prot = rednet.recieve()
  if prot == "MAILSAVE" then 
  
  
  mail
  fs.write("/mail/" + id)






end
